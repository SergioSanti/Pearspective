<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - Pearspective</title>
    <meta name="description" content="Gerencie seu perfil no Pearspective">
    <meta name="keywords" content="perfil, usu√°rio, configura√ß√µes, pearspective">
    <meta name="author" content="Pearspective Team">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../assets/global-styles.css">
    <link rel="stylesheet" href="../navbar.css">
    <link rel="stylesheet" href="perfil.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
</head>
<body>
    <!-- Navbar carregado dinamicamente -->
    <div id="navbar"></div>

    <!-- Container Principal -->
    <div class="profile-container">
        <div class="profile-header">
            <h1 class="profile-title">Meu Perfil</h1>
            <p class="profile-subtitle">Gerencie suas informa√ß√µes pessoais e profissionais</p>
        </div>

        <div class="profile-content">
            <!-- Se√ß√£o de Informa√ß√µes Pessoais -->
            <div class="profile-section">
                <h2 class="section-title">Informa√ß√µes Pessoais</h2>
                
                <div class="profile-card">
                    <div class="profile-photo-section">
                        <div class="profile-photo-container">
                            <div class="profile-photo" id="profilePhoto">
                                <span class="photo-placeholder" id="photoPlaceholder">üë§</span>
                            </div>
                            <button class="photo-edit-btn" id="editPhotoBtn">
                                <span class="edit-icon">üì∑</span>
                                Alterar Foto
                            </button>
                            <input type="file" id="photoInput" accept="image/*" class="hidden">
                            <p class="photo-info">Formatos: JPEG, PNG, GIF, WebP ‚Ä¢ M√°ximo: 2MB ‚Ä¢ Dimens√µes: at√© 2048x2048px</p>
                        </div>
                    </div>

                    <div class="profile-info">
                        <div class="form-group">
                            <label for="userName" class="form-label">Nome de Exibi√ß√£o</label>
                            <input type="text" id="userName" class="form-input" placeholder="Seu nome de exibi√ß√£o">
                        </div>

                        <div class="form-group">
                            <label for="userLogin" class="form-label">Usu√°rio</label>
                            <input type="text" id="userLogin" class="form-input" readonly>
                        </div>

                        <div class="form-group">
                            <label for="userEmail" class="form-label">E-mail</label>
                            <input type="email" id="userEmail" class="form-input" placeholder="seu@email.com" readonly>
                        </div>

                        <div class="form-group">
                            <label for="userType" class="form-label">Tipo de Usu√°rio</label>
                            <input type="text" id="userType" class="form-input" readonly>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Se√ß√£o de Informa√ß√µes Profissionais -->
            <div class="profile-section">
                <h2 class="section-title">Informa√ß√µes Profissionais</h2>
                
                <div class="profile-card">
                    <div class="form-group">
                        <label for="userDepartment" class="form-label">√Årea/Departamento</label>
                        <select id="userDepartment" class="form-select">
                            <option value="">Selecione uma √°rea</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="userPosition" class="form-label">Cargo Atual</label>
                        <select id="userPosition" class="form-select">
                            <option value="">Selecione um cargo</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="userDepartment" class="form-label">Data de Cadastro</label>
                        <input type="text" id="userRegistrationDate" class="form-input" readonly>
                    </div>
                </div>
            </div>

            <!-- Se√ß√£o de Curr√≠culo -->
            <div class="profile-section">
                <h2 class="section-title">üìÑ Curr√≠culo</h2>
                
                <div class="profile-card">
                    <div class="curriculum-section">
                        <div class="curriculum-actions">
                            <div class="upload-section" id="uploadSection">
                                <div class="upload-area">
                                    <label for="curriculumInput" class="upload-label">
                                        <div class="upload-icon">üìÑ</div>
                                        <div class="upload-text">
                                            <strong>Enviar Curr√≠culo</strong>
                                            <span>Clique para selecionar um arquivo PDF</span>
                                        </div>
                                    </label>
                                    <input type="file" id="curriculumInput" accept=".pdf" class="hidden">
                                </div>
                                <p class="file-info">Apenas arquivos PDF, m√°ximo 10MB</p>
                            </div>

                            <div class="curriculum-controls" id="curriculumControls" style="display: none;">
                                <div class="controls-header">
                                    <div class="file-preview">
                                        <div class="file-icon">üìÑ</div>
                                        <div class="file-details">
                                            <div class="file-name" id="curriculumFileName">curriculo.pdf</div>
                                            <div class="file-meta">
                                                <span id="curriculumFileSize">0 KB</span>
                                                <span>‚Ä¢</span>
                                                <span id="curriculumLastUpdate">hoje</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="controls-actions">
                                    <button class="btn btn-primary curriculum-btn" id="viewCurriculumBtn">
                                        <span class="btn-icon">üëÅÔ∏è</span>
                                        Visualizar
                                    </button>
                                    <button class="btn btn-secondary curriculum-btn" id="downloadCurriculumBtn">
                                        <span class="btn-icon">üì•</span>
                                        Baixar
                                    </button>
                                    <button class="btn btn-danger curriculum-btn" id="deleteCurriculumBtn">
                                        <span class="btn-icon">üóëÔ∏è</span>
                                        Excluir
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Bot√µes de A√ß√£o -->
            <div class="profile-actions">
                <button class="btn btn-primary" id="saveProfileBtn">
                    <span class="btn-icon">üíæ</span>
                    Salvar Altera√ß√µes
                </button>
                
                <button class="btn btn-secondary" id="cancelChangesBtn">
                    <span class="btn-icon">‚Ü©Ô∏è</span>
                    Cancelar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Confirmar Altera√ß√µes</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Tem certeza que deseja salvar as altera√ß√µes no seu perfil?</p>
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" id="confirmSaveBtn">Confirmar</button>
                <button class="btn btn-secondary" id="cancelSaveBtn">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- Script para carregar o conte√∫do da navbar -->
    <script>
        fetch("../navbar.html")
            .then(res => res.text())
            .then(data => {
                document.getElementById("navbar").innerHTML = data;
                // Carrega o JS da navbar ap√≥s inserir o HTML
                const script = document.createElement('script');
                script.src = '../navbar.js';
                document.body.appendChild(script);
            });
    </script>

    <script src="perfil.js"></script>
    <script>
        // Fun√ß√£o global para dark mode
        window.toggleDarkMode = function() {
            console.log('[DARK MODE] Alternando tema...');
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme') || 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            console.log('[DARK MODE] Tema atual:', currentTheme, 'Novo tema:', newTheme);
            
            // Aplicar o tema
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            // Atualizar √≠cones
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');
            
            if (sunIcon && moonIcon) {
                if (newTheme === 'dark') {
                    sunIcon.style.display = 'none';
                    moonIcon.style.display = 'block';
                } else {
                    sunIcon.style.display = 'block';
                    moonIcon.style.display = 'none';
                }
            }
            
            console.log('[DARK MODE] Tema aplicado:', newTheme);
        };
        
        // Inicializar tema
        function initializeTheme() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            const theme = savedTheme || (prefersDark ? 'dark' : 'light');
            
            document.documentElement.setAttribute('data-theme', theme);
            
            // Atualizar √≠cones
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');
            
            if (sunIcon && moonIcon) {
                if (theme === 'dark') {
                    sunIcon.style.display = 'none';
                    moonIcon.style.display = 'block';
                } else {
                    sunIcon.style.display = 'block';
                    moonIcon.style.display = 'none';
                }
            }
        }
        
        // Inicializar quando a p√°gina carregar
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeTheme);
        } else {
            initializeTheme();
        }
    </script>
</body>
</html> 